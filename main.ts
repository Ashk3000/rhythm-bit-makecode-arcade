namespace SpriteKind {
    export const UpArrow = SpriteKind.create()
    export const DownArrow = SpriteKind.create()
    export const LeftArrow = SpriteKind.create()
    export const RightArrow = SpriteKind.create()
    export const Scene = SpriteKind.create()
}
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    pressArrow(0)
    console.log("" + game.runtime() + ", ")
    console.log("0, ")
})
function pressArrow (arrow: number) {
    for (let value of Arrow_Sprites) {
        if (value.y - 88 <= 28 && value.y - 88 >= -28) {
            if (arrow == 0) {
                if (value.kind() == SpriteKind.UpArrow) {
                    sprites.destroy(value)
                }
            } else if (arrow == 1) {
                if (value.kind() == SpriteKind.DownArrow) {
                    sprites.destroy(value)
                }
            } else if (arrow == 2) {
                if (value.kind() == SpriteKind.LeftArrow) {
                    sprites.destroy(value)
                }
            } else {
                if (value.kind() == SpriteKind.RightArrow) {
                    sprites.destroy(value)
                }
            }
        }
    }
}
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    pressArrow(0)
    console.log("" + game.runtime() + ", ")
    console.log("2, ")
})
sprites.onCreated(SpriteKind.LeftArrow, function (sprite) {
    sprite.setPosition(scene.screenWidth() / 5 * 1, 0)
    sprite.setVelocity(0, Scroll_Speed)
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    pressArrow(3)
    console.log("" + game.runtime() + ", ")
    console.log("0, ")
})
sprites.onCreated(SpriteKind.RightArrow, function (sprite) {
    sprite.setPosition(scene.screenWidth() / 5 * 4, 0)
    sprite.setVelocity(0, Scroll_Speed)
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    pressArrow(2)
    console.log("" + game.runtime() + ", ")
    console.log("2, ")
})
sprites.onCreated(SpriteKind.UpArrow, function (sprite) {
    sprite.setPosition(scene.screenWidth() / 5 * 3, 0)
    sprite.setVelocity(0, Scroll_Speed)
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    pressArrow(3)
    console.log("" + game.runtime() + ", ")
    console.log("3, ")
})
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    pressArrow(1)
    console.log("" + game.runtime() + ", ")
    console.log("1, ")
})
sprites.onCreated(SpriteKind.DownArrow, function (sprite) {
    sprite.setPosition(scene.screenWidth() / 5 * 2, 0)
    sprite.setVelocity(0, Scroll_Speed)
})
let Arrow_Num = 0
let Arrow_Sprites: Sprite[] = []
let Scroll_Speed = 0
let Line = sprites.create(img`
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................11111...........
    111111111111111111111....................................................................................111111111111111111111..................11111111........
    1111111111111111111111111111111111111..............................................................1111111111111111111111111111111..............11111111111.....
    1111111111111111111111111111111111111111111....................................................11111111111111111111111111111111111111111...........111111111....
    ...................111111111111111111111111111............................................11111111111111111.................111111111111..............11111111..
    ...................................11111111111111......................................11111111111111...........................11111111................11111111
    .........................................1111111111111............................111111111111111.........................................................111111
    ............................................11111111111111111................111111111111111................................................................1111
    ...............................................111111111111111111111111111111111111111111.....................................................................11
    ...................................................111111111111111111111111111111111............................................................................
    ...........................................................11111111111111111111.................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    `, SpriteKind.Scene)
Line.z = 2
Scroll_Speed = 100
let Map = [
64,
3,
343,
0,
574,
2,
782,
1,
1091,
3,
1363,
3,
1615,
3,
2089,
2,
2334,
2,
2599,
2,
3098,
3,
3329,
3,
3599,
3,
4076,
3,
4306,
0,
4535,
2,
4799,
1,
5067,
3,
5359,
3,
5606,
3,
6039,
0,
6289,
0,
6560,
3,
6912,
2,
7161,
1
]
timer.background(function () {
    pause(88 / Scroll_Speed * 1000)
    music.play(music.createSong(hex`0078000408040106001c00010a006400f401640000040000000000000000000000000000000002960000000400012404000800012208000c0001200c001000012210001400012414001800012418001c00012420002400012224002800012228002c00012230003400012434003800012438003c00012440004400012444004800012248004c0001204c005000012250005400012454005800012458005c00012460006400012264006800012268006c0001246c0070000122700080000120`), music.PlaybackMode.InBackground)
})
game.onUpdate(function () {
    if (game.runtime() >= Map[0]) {
        Map.shift()
        Arrow_Num = Map.shift()
        if (Arrow_Num == 0) {
            Arrow_Sprites.push(sprites.create(img`
                . . . . . . 3 3 3 3 . . . . . . 
                . . . . . 3 3 1 1 3 3 . . . . . 
                . . . . 3 3 1 1 1 1 3 3 . . . . 
                . . . 3 3 1 1 1 1 1 1 3 3 . . . 
                . . 3 3 1 1 1 1 1 1 1 1 3 3 . . 
                . 3 3 1 1 1 1 1 1 1 1 1 1 3 3 . 
                3 3 1 1 1 1 1 1 1 1 1 1 1 1 3 3 
                3 3 3 3 3 3 1 1 1 1 3 3 3 3 3 3 
                . . . . 3 1 1 1 1 1 1 3 . . . . 
                . . . . 3 1 1 1 1 1 1 3 . . . . 
                . . . . 3 1 1 1 1 1 1 3 . . . . 
                . . . . 3 1 1 1 1 1 1 3 . . . . 
                . . . . 3 1 1 1 1 1 1 3 . . . . 
                . . . . 3 1 1 1 1 1 1 3 . . . . 
                . . . . 3 3 1 1 1 1 3 3 . . . . 
                . . . . . 3 3 3 3 3 3 . . . . . 
                `, SpriteKind.UpArrow))
        } else if (Arrow_Num == 1) {
            Arrow_Sprites.push(sprites.create(img`
                . . . . . 3 3 3 3 3 3 . . . . . 
                . . . . 3 3 1 1 1 1 3 3 . . . . 
                . . . . 3 1 1 1 1 1 1 3 . . . . 
                . . . . 3 1 1 1 1 1 1 3 . . . . 
                . . . . 3 1 1 1 1 1 1 3 . . . . 
                . . . . 3 1 1 1 1 1 1 3 . . . . 
                . . . . 3 1 1 1 1 1 1 3 . . . . 
                . . . . 3 1 1 1 1 1 1 3 . . . . 
                3 3 3 3 3 3 1 1 1 1 3 3 3 3 3 3 
                3 3 1 1 1 1 1 1 1 1 1 1 1 1 3 3 
                . 3 3 1 1 1 1 1 1 1 1 1 1 3 3 . 
                . . 3 3 1 1 1 1 1 1 1 1 3 3 . . 
                . . . 3 3 1 1 1 1 1 1 3 3 . . . 
                . . . . 3 3 1 1 1 1 3 3 . . . . 
                . . . . . 3 3 1 1 3 3 . . . . . 
                . . . . . . 3 3 3 3 . . . . . . 
                `, SpriteKind.DownArrow))
        } else if (Arrow_Num == 2) {
            Arrow_Sprites.push(sprites.create(img`
                . . . . . . 3 3 . . . . . . . . 
                . . . . . 3 3 3 . . . . . . . . 
                . . . . 3 3 1 3 . . . . . . . . 
                . . . 3 3 1 1 3 . . . . . . . . 
                . . 3 3 1 1 1 3 3 3 3 3 3 3 3 . 
                . 3 3 1 1 1 1 3 1 1 1 1 1 1 3 3 
                3 3 1 1 1 1 1 1 1 1 1 1 1 1 1 3 
                3 1 1 1 1 1 1 1 1 1 1 1 1 1 1 3 
                3 1 1 1 1 1 1 1 1 1 1 1 1 1 1 3 
                3 3 1 1 1 1 1 1 1 1 1 1 1 1 1 3 
                . 3 3 1 1 1 1 3 1 1 1 1 1 1 3 3 
                . . 3 3 1 1 1 3 3 3 3 3 3 3 3 . 
                . . . 3 3 1 1 3 . . . . . . . . 
                . . . . 3 3 1 3 . . . . . . . . 
                . . . . . 3 3 3 . . . . . . . . 
                . . . . . . 3 3 . . . . . . . . 
                `, SpriteKind.LeftArrow))
        } else {
            Arrow_Sprites.push(sprites.create(img`
                . . . . . . . . 3 3 . . . . . . 
                . . . . . . . . 3 3 3 . . . . . 
                . . . . . . . . 3 1 3 3 . . . . 
                . . . . . . . . 3 1 1 3 3 . . . 
                . 3 3 3 3 3 3 3 3 1 1 1 3 3 . . 
                3 3 1 1 1 1 1 1 3 1 1 1 1 3 3 . 
                3 1 1 1 1 1 1 1 1 1 1 1 1 1 3 3 
                3 1 1 1 1 1 1 1 1 1 1 1 1 1 1 3 
                3 1 1 1 1 1 1 1 1 1 1 1 1 1 1 3 
                3 1 1 1 1 1 1 1 1 1 1 1 1 1 3 3 
                3 3 1 1 1 1 1 1 3 1 1 1 1 3 3 . 
                . 3 3 3 3 3 3 3 3 1 1 1 3 3 . . 
                . . . . . . . . 3 1 1 3 3 . . . 
                . . . . . . . . 3 1 3 3 . . . . 
                . . . . . . . . 3 3 3 . . . . . 
                . . . . . . . . 3 3 . . . . . . 
                `, SpriteKind.RightArrow))
        }
    }
})
